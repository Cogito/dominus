<template name="rp_info_village">
	<div class="rp_content" id="rp_info_village">
		{{#if infoLoaded}}
			<div class="panel panel-default" style="margin-top:0;">
				<div class="panel-body">
					<h4>
						<span class="light_text">Village</span> {{name}}
						&nbsp;
						{{#if is_owner}}
							{{> edit_name_button}}
						{{/if}}
					</h4>

					{{#unless is_owner}}
						<span class="light_text">Lord</span> {{username}}
						&nbsp;&nbsp;
						{{> center_on_button x=castle_x y=castle_y selected_type='castle' selected_id=castle_id}}
						<br>
					{{/unless}}

					{{> hex_location}}
					&nbsp;&nbsp;
					{{> center_on_button x=x y=y selected_id=_id selected_type='village'}}
				</div>
			</div>

			{{#if unitRelationType}}
				<div class="panel panel-default panel-body" style="text-align:center;">
					{{username}} is your {{unitRelationType}}
				</div>
			{{/if}}

			{{#unless is_owner}}
				{{#if rightPanelTreeReady}}
					{{> rightPanelTree}}
				{{/if}}

				<div class="pad_group">
					<button class="btn btn-primary btn-block" id="createChatButton">Create chatroom with {{username}}</button>
				</div>
			{{/unless}}

			{{#if under_construction}}
				<div class="panel panel-default">
					<div class="panel-body">
						Village is under construction and will be finished {{timeTilFinishedBuilding}}.
						<br><br>
						This village will collect {{round incomeInGold}} gold worth of resources every {{interval}}.
					</div>
				</div>

			{{else}}
				<div class="panel panel-default">
					<div class="panel-heading">
						Village Garrison
					</div>
					<table class="table table-condensed table-striped">
						<tbody>
							<tr>
								<td>Footmen</td>
								<td style="text-align:right;">{{round footmen}}</td>
							</tr>
							<tr>
								<td>Archers</td>
								<td style="text-align:right;">{{round archers}}</td>
							</tr>
							<tr>
								<td>Pikemen</td>
								<td style="text-align:right;">{{round pikemen}}</td>
							</tr>
							<tr>
								<td>Cavalry</td>
								<td style="text-align:right;">{{round cavalry}}</td>
							</tr>
							<tr>
								<td>Catapults</td>
								<td style="text-align:right;">{{round catapults}}</td>
							</tr>
							<tr>
							<td>Defense Power</td>
							<td style="text-align:right;">{{round defensePower}}</td>
						</tr>
						</tbody>
					</table>
				</div>


				{{#if is_owner}}
					<div class="pad_group">
						<button type="button" class="btn btn-sm btn-primary btn-block" id="hireArmyButton">Hire Soldiers</button>

						<button type="button" class="btn btn-sm btn-primary btn-block" id="send_army_from_village_button" disabled="{{no_soldiers}}">Send Army from Village</button>
					</div>
				{{/if}}

				 <div class="panel panel-default">
					<div class="panel-heading">
						Resource Collection
					</div>
					<table class="table table-condensed table-striped">
						<tbody>
							<tr>
								<td>Gold</td>
								<td style="text-align:right;">{{resources_per_interval.gold}}</td>
							</tr>
							<tr>
								<td>Grain</td>
								<td style="text-align:right;">{{resources_per_interval.grain}}</td>
							</tr>
							<tr>
								<td>Lumber</td>
								<td style="text-align:right;">{{resources_per_interval.lumber}}</td>
							</tr>
							<tr>
								<td>Ore</td>
								<td style="text-align:right;">{{resources_per_interval.ore}}</td>
							</tr>
							<tr>
								<td>Wool</td>
								<td style="text-align:right;">{{resources_per_interval.wool}}</td>
							</tr>
							<tr>
								<td>Clay</td>
								<td style="text-align:right;">{{resources_per_interval.clay}}</td>
							</tr>
							<tr>
								<td>Glass</td>
								<td style="text-align:right;">{{resources_per_interval.glass}}</td>
							</tr>
						</tbody>
					</table>
					<div class="panel-body light_text" style="text-align:center;">
						Collected every {{interval}}<br>
						from surrounding hexes.
					</div>
					<table class="table table-condensed table-striped">
						<tbody>
							<tr>
								<td>Worth In Gold</td>
								<td style="text-align:right;">{{round incomeInGold}}</td>
							</tr>
						</tbody>
					</table>
				</div>
			{{/if}}

			{{#if is_owner}}
				<br>
				<div class="pad_group">
					<button type="button" class="btn btn-sm btn-primary btn-block" id="destroy_village_button">Destroy Village</button>
				</div>
			{{/if}}


			{{#if battleInfoLoaded}}
				{{#if battle}}
					<div class="panel panel-default">
						<div class="panel-heading">
							Battle
						</div>
						<div class="panel-body">
							{{> battle_report battle}}
						</div>
					</div>
				{{/if}}
			{{/if}}

		{{else}}
			<div class="pad_group" style="text-align:center;">
				<i class="fa fa-refresh fa-spin"></i>
				&nbsp;
				Loading
			</div>
		{{/if}}

	</div>
</template>
